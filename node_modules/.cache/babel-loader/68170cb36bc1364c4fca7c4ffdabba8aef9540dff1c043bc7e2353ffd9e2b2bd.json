{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f1d4164\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container1\"\n};\nconst _hoisted_2 = {\n  class: \"question-header\"\n};\nconst _hoisted_3 = {\n  class: \"timer\"\n};\nconst _hoisted_4 = {\n  class: \"container2\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = {\n  class: \"container3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ReportTuple = _resolveComponent(\"ReportTuple\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h2\", null, _toDisplayString(`Question ${$data.questionIndex + 1}:`), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, _toDisplayString(`Time: ${$data.minutes}:${$data.seconds}`), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tupleIndex, (result, index) => {\n    return _openBlock(), _createElementBlock(\"div\", null, [(_openBlock(), _createBlock(_component_ReportTuple, {\n      question: $options.question,\n      \"able-edit\": $data.ableEdit,\n      key: index,\n      ref_for: true,\n      ref: 'reportTuples_' + result\n    }, null, 8 /* PROPS */, [\"question\", \"able-edit\"])), _hoisted_5]);\n  }), 256 /* UNKEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addQuestion && $options.addQuestion(...args)),\n    disabled: !$data.ableEdit\n  }, \"+\", 8 /* PROPS */, _hoisted_6)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.nextQuestion && $options.nextQuestion(...args)),\n    class: \"next-button\"\n  }, \"Next\")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$data","questionIndex","_hoisted_3","minutes","seconds","_hoisted_4","_Fragment","_renderList","tupleIndex","result","index","_createBlock","_component_ReportTuple","question","$options","ableEdit","key","ref","_hoisted_5","onClick","_cache","args","addQuestion","disabled","_hoisted_6","_hoisted_7","nextQuestion"],"sources":["D:\\JiamouSun\\tosem_exp\\src\\components\\Report.vue"],"sourcesContent":["<template>\r\n  <div class=\"container1\">\r\n    <div class=\"question-header\">\r\n      <h2>{{ `Question ${questionIndex + 1}:` }}</h2>\r\n      <div class=\"timer\">{{ `Time: ${minutes}:${seconds}` }}</div>\r\n    </div>\r\n    <div class=\"container2\">\r\n      <div v-for=\"(result, index) in tupleIndex\" >\r\n        <ReportTuple :question=\"question\" :able-edit=\"ableEdit\" :key=\"index\" :ref=\"'reportTuples_'+result\"/>\r\n        <hr>\r\n      </div>\r\n      <button @click=\"addQuestion\" :disabled=\"!ableEdit\">+</button>\r\n    </div>\r\n    <div class=\"container3\">\r\n      <button @click=\"nextQuestion\" class=\"next-button\">Next</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ReportTuple from './ReportTuple.vue'\r\n\r\nexport default {\r\n  name: \"Report\",\r\n  components: {\r\n    ReportTuple\r\n  },\r\n  data() {\r\n    return {\r\n      questionIndex: 0,\r\n      minutes: 10,\r\n      seconds: 0,\r\n      tupleIndex: 1,\r\n      ableEdit: true,\r\n      answers: [],\r\n      questions: [\r\n        {\r\n          title: 'Question 1',\r\n          options: ['Option 1', 'Option 2', 'Option 3', 'Option 4']\r\n        },\r\n        {\r\n          title: 'Question 2',\r\n          options: ['Option 1', 'Option 2', 'Option 3', 'Option 4']\r\n        },\r\n        {\r\n          title: 'Question 3',\r\n          options: ['Option 1', 'Option 2', 'Option 3', 'Option 4']\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  created() {\r\n    this.createAnswer(this.tupleIndex);\r\n  },\r\n  computed: {\r\n    question() {\r\n      return this.questions[this.questionIndex]\r\n    },\r\n  },\r\n  methods: {\r\n    startTimer() {\r\n      setInterval(() => {\r\n        if (this.seconds > 0) {\r\n          this.seconds--\r\n        } else if (this.minutes > 0) {\r\n          this.minutes--\r\n          this.seconds = 59\r\n        } else {\r\n          // Time is up\r\n          this.ableEdit = false\r\n        }\r\n      }, 1000)\r\n    },\r\n    addQuestion() {\r\n      // Code to add a new question\r\n      this.tupleIndex += 1;\r\n      this.createAnswer(this.tupleIndex);\r\n    },\r\n    createAnswer(index) {\r\n      var answer = {'tuple_id':index};\r\n      this.answers.push(answer);\r\n    },\r\n    nextQuestion(){\r\n      console.log(this.$refs)\r\n      for (var i=0;i<this.tupleIndex;i++) {\r\n        this.answers[i]['selectedOption'] = this.$refs['reportTuples_'+i].fetchSelectedOption()\r\n      }\r\n      console.log(this.answers)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.startTimer();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container1 {\r\n  width: 66.67%;\r\n  margin: auto;\r\n}\r\n.container2 {\r\n  width: 70%;\r\n  margin: auto;\r\n  text-align: left;\r\n  font-size: 1.2rem;\r\n}\r\n.question-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.timer {\r\n  font-size: 1.2rem;\r\n}\r\n.container3 {\r\n  display: flex;\r\n  width: 100%;\r\n  margin-top: 1.5rem;\r\n}\r\n.next-button {\r\n  margin-left: auto;\r\n}\r\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAO;;EAEfA,KAAK,EAAC;AAAY;gEAGnBC,mBAAA,CAAI;;;EAIHD,KAAK,EAAC;AAAY;;;uBAZzBE,mBAAA,CAeM,OAfNC,UAeM,GAdJF,mBAAA,CAGM,OAHNG,UAGM,GAFJH,mBAAA,CAA+C,YAAAI,gBAAA,aAA5BC,KAAA,CAAAC,aAAa,yBAChCN,mBAAA,CAA4D,OAA5DO,UAA4D,EAAAH,gBAAA,UAA7BC,KAAA,CAAAG,OAAO,IAAIH,KAAA,CAAAI,OAAO,mB,GAEnDT,mBAAA,CAMM,OANNU,UAMM,I,kBALJT,mBAAA,CAGMU,SAAA,QAAAC,WAAA,CAHyBP,KAAA,CAAAQ,UAAU,GAA5BC,MAAM,EAAEC,KAAK;yBAA1Bd,mBAAA,CAGM,e,cAFJe,YAAA,CAAoGC,sBAAA;MAAtFC,QAAQ,EAAEC,QAAA,CAAAD,QAAQ;MAAG,WAAS,EAAEb,KAAA,CAAAe,QAAQ;MAAGC,GAAG,EAAEN,KAAK;;MAAGO,GAAG,oBAAkBR;yDAC3FS,UAAI,C;oCAENvB,mBAAA,CAA6D;IAApDwB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEP,QAAA,CAAAQ,WAAA,IAAAR,QAAA,CAAAQ,WAAA,IAAAD,IAAA,CAAW;IAAGE,QAAQ,GAAGvB,KAAA,CAAAe;KAAU,GAAC,iBAAAS,UAAA,E,GAEtD7B,mBAAA,CAEM,OAFN8B,UAEM,GADJ9B,mBAAA,CAA+D;IAAtDwB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEP,QAAA,CAAAY,YAAA,IAAAZ,QAAA,CAAAY,YAAA,IAAAL,IAAA,CAAY;IAAE3B,KAAK,EAAC;KAAc,MAAI,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}